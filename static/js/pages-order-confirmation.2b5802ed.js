(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-confirmation"],{"03f0":function(e,i,t){var o=t("4006");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=t("4f06").default;n("03205c1d",o,!0,{sourceMap:!1,shadowMode:!1})},"0f1e":function(e,i){e.exports="data:image/png;base64,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"},"1de5":function(e,i,t){"use strict";e.exports=function(e,i){return i||(i={}),e=e&&e.__esModule?e.default:e,"string"!==typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),i.hash&&(e+=i.hash),/["'() \t\n]/.test(e)||i.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},"24e4":function(e,i,t){"use strict";t.r(i);var o=t("bd89"),n=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(i,e,(function(){return o[e]}))}(a);i["default"]=n.a},4006:function(e,i,t){var o=t("24fb"),n=t("1de5"),a=t("0f1e");i=o(!1);var s=n(a);i.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.flex[data-v-6fe85fbb]{display:-webkit-box;display:-webkit-flex;display:flex}.flex-row[data-v-6fe85fbb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.flex-col[data-v-6fe85fbb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.flex-grow-0[data-v-6fe85fbb]{min-width:0;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.flex-grow-1[data-v-6fe85fbb]{min-width:0;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1}.flex-x-center[data-v-6fe85fbb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.flex-y-center[data-v-6fe85fbb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;-ms-grid-row-align:center;align-items:center}.flex-y-bottom[data-v-6fe85fbb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;-ms-grid-row-align:flex-end;align-items:flex-end}.addr[data-v-6fe85fbb]{width:86%;padding:%?20?% 3%;margin:%?30?% auto %?20?% auto;box-shadow:%?0?% %?5?% %?20?% rgba(0,0,0,.1);border-radius:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;background-color:#fff}.addr .icon[data-v-6fe85fbb]{width:%?80?%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.addr .icon uni-image[data-v-6fe85fbb]{width:%?60?%;height:%?60?%}.addr .tel-name[data-v-6fe85fbb]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?32?%}.addr .tel-name .tel[data-v-6fe85fbb]{margin-left:%?40?%}.addr .addres[data-v-6fe85fbb]{width:100%;font-size:%?26?%;color:#999}.addr .select[data-v-6fe85fbb]{line-height:%?80?%}.box[data-v-6fe85fbb]{box-shadow:%?0?% %?5?% %?20?% rgba(0,0,0,.1);width:86%;padding:%?10?% 3%;margin:%?30?% auto;border-radius:%?20?%;background-color:#fff}.box .buy-list[data-v-6fe85fbb]{width:100%}.box .buy-list .shop-title[data-v-6fe85fbb]{font-size:%?30?%;line-height:%?40?%}.box .buy-list .row[data-v-6fe85fbb]{margin:%?10?% 0 %?20?% 0}.box .buy-list .row .radio[data-v-6fe85fbb]{width:50px;height:50px}.box .buy-list .row .goods-info[data-v-6fe85fbb]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex}.box .buy-list .row .goods-info .img[data-v-6fe85fbb]{width:22vw;height:22vw;border-radius:%?10?%;overflow:hidden;-webkit-flex-shrink:0;flex-shrink:0;margin-right:%?10?%}.box .buy-list .row .goods-info .img uni-image[data-v-6fe85fbb]{width:22vw;height:22vw}.box .buy-list .row .goods-info .info[data-v-6fe85fbb]{width:100%;height:22vw;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;position:relative}.box .buy-list .row .goods-info .info .title[data-v-6fe85fbb]{width:100%;font-size:%?28?%;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.box .buy-list .row .goods-info .info .spec[data-v-6fe85fbb]{font-size:%?22?%;background-color:#f3f3f3;color:#a7a7a7;height:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?10?%;border-radius:%?20?%;margin-bottom:20vw}.box .buy-list .row .goods-info .info .spec > uni-view[data-v-6fe85fbb]{margin-right:%?10?%}.box .buy-list .row .goods-info .info .price-number[data-v-6fe85fbb]{position:absolute;width:100%;bottom:%?0?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;font-size:%?28?%;height:%?40?%}.box .buy-list .row .goods-info .info .price-number .price[data-v-6fe85fbb]{color:#f06c7a}.box .buy-list .row .goods-info .info .price-number .vip-price[data-v-6fe85fbb]{font-size:%?24?%;max-width:%?400?%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.box .buy-list .row .goods-info .info .price-number .vip-price > uni-text[data-v-6fe85fbb]{font-size:%?20?%;color:#999;text-decoration:line-through;margin-right:%?10?%}.box .buy-list .row .goods-info .info .price-number .number[data-v-6fe85fbb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.box .order[data-v-6fe85fbb]{width:100%;padding:%?10?% 3%;box-sizing:border-box;margin:0 auto;margin-top:%?30?%;border-radius:%?20?%}.box .order .row[data-v-6fe85fbb]{margin:%?20?% 0;height:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex}.box .order .row .left[data-v-6fe85fbb]{font-size:%?28?%}.box .order .row .right[data-v-6fe85fbb]{margin-left:%?40?%;font-size:%?26?%;color:#999}.box .order .row .right uni-input[data-v-6fe85fbb]{font-size:%?26?%;color:#999}.box .order .row .coupon[data-v-6fe85fbb]{margin-left:auto;color:#f06c7a}.box .order .row .right > uni-text[data-v-6fe85fbb]{color:#f06c7a}.box .detail[data-v-6fe85fbb]{width:100%;padding:%?10?% 3%;box-sizing:border-box;margin:%?20?% auto;margin-top:%?10?%;border-radius:%?20?%}.box .detail .row[data-v-6fe85fbb]{height:%?60?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.box .detail .row .nominal[data-v-6fe85fbb]{font-size:%?28?%}.box .detail .row .content[data-v-6fe85fbb]{font-size:%?26?%;color:#f06c7a}.integral-box[data-v-6fe85fbb]{box-shadow:%?0?% %?5?% %?20?% rgba(0,0,0,.1);width:86%;padding:%?10?% 3%;margin:%?30?% auto;border-radius:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?30?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:#fff}.integral-box .right[data-v-6fe85fbb]{margin-left:auto;width:%?100?%}.integral-box .middle > uni-text[data-v-6fe85fbb]{color:#f06c7a}.blck[data-v-6fe85fbb]{width:100%;height:%?100?%}.footer[data-v-6fe85fbb]{width:92%;padding:0 4%;background-color:#fff;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?28?%;position:fixed;bottom:%?0?%;z-index:5}.footer .settlement[data-v-6fe85fbb]{width:80%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.footer .settlement .sum[data-v-6fe85fbb]{width:50%;font-size:%?28?%;margin-right:%?10?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.footer .settlement .sum .money[data-v-6fe85fbb]{font-weight:600}.footer .settlement .btn[data-v-6fe85fbb]{padding:0 %?30?%;height:%?60?%;background-color:#f06c7a;color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?30?%;border-radius:%?40?%}.coupon-box[data-v-6fe85fbb]{width:100vw;height:100vh;position:fixed;top:0;left:0;background-color:#fff;padding:%?35?%;box-sizing:border-box;z-index:999}.coupon-box .explain[data-v-6fe85fbb]{font-size:%?34?%;color:#9a9a9a}.coupon-box .noSub[data-v-6fe85fbb]{width:100%;height:%?80?%;border:2px solid #e5e5e5;border-radius:%?6?%;line-height:%?70?%;text-align:center;color:#9a9a9a;margin:%?20?% auto;box-sizing:border-box}.coupon-box .coupon-list[data-v-6fe85fbb]{box-sizing:border-box;height:80vh}.coupon-box .coupon-list .coupon-item[data-v-6fe85fbb]{height:%?180?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-image:url('+s+");background-repeat:no-repeat;background-position:0;background-size:115% 100%;margin-bottom:%?20?%}.coupon-box .coupon-list .coupon-item .money[data-v-6fe85fbb]{width:%?230?%;text-align:center;color:#fff;margin-right:%?20?%}.coupon-box .coupon-list .coupon-item .money .price > uni-text[data-v-6fe85fbb]{font-size:%?60?%}.coupon-box .coupon-list .coupon-item .money .cut-price[data-v-6fe85fbb]{font-size:%?28?%}.coupon-box .coupon-list .coupon-item .info .from[data-v-6fe85fbb]{font-size:%?40?%;font-weight:700;margin-bottom:%?10?%}.coupon-box .coupon-list .coupon-item .info .time[data-v-6fe85fbb]{font-size:%?24?%}",""]),e.exports=i},"94aa":function(e,i,t){"use strict";var o,n=function(){var e=this,i=e.$createElement,o=e._self._c||i;return o("v-uni-view",[o("v-uni-view",{staticClass:"addr",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.selectAddress.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"icon"},[o("v-uni-image",{attrs:{src:t("eefa"),mode:""}})],1),o("v-uni-view",{staticClass:"right"},[e.recinfo?[o("v-uni-view",{staticClass:"tel-name"},[o("v-uni-view",{staticClass:"name"},[e._v(e._s(e.recinfo.name))]),o("v-uni-view",{staticClass:"tel"},[e._v(e._s(e.recinfo.mobile))])],1),o("v-uni-view",{staticClass:"addres"},[e._v(e._s(e.recinfo.address))])]:[o("v-uni-view",{staticClass:"select"},[e._v("请选择收货地址")])]],2)],1),e._l(e.mch_list,(function(i,t){return[o("v-uni-view",{staticClass:"box"},[o("v-uni-view",{staticClass:"buy-list"},[o("v-uni-view",{staticClass:"shop-title"},[e._v(e._s(i.name))]),o("v-uni-view",e._l(i.goods_list,(function(i,t){return o("v-uni-view",{key:t,staticClass:"row"},[o("v-uni-view",{staticClass:"goods-info"},[o("v-uni-view",{staticClass:"img"},[o("v-uni-image",{attrs:{src:i.goods_pic}})],1),o("v-uni-view",{staticClass:"info"},[o("v-uni-view",{staticClass:"title"},[e._v(e._s(i.goods_name))]),o("v-uni-view",{staticClass:"spec"},e._l(i.attr_list,(function(i){return o("v-uni-view",[e._v(e._s(i.attr_group_name)+":"+e._s(i.attr_name))])})),1),o("v-uni-view",{staticClass:"price-number"},[i.is_level?o("v-uni-view",{staticClass:"price vip-price"},[o("v-uni-text",[e._v("￥"+e._s(i.price))]),e._v("会员折价￥"+e._s(i.level_price))],1):o("v-uni-view",{staticClass:"price"},[e._v("￥"+e._s(i.price))]),o("v-uni-view",{staticClass:"number"},[e._v("X"+e._s(i.num))])],1)],1)],1)],1)})),1)],1),o("v-uni-view",{staticClass:"order"},[i.coupon_list&&i.coupon_list.length>0?o("v-uni-view",{staticClass:"row",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.useCounpon(t)}}},[o("v-uni-view",{staticClass:"left"},[e._v("优惠券 :")]),o("v-uni-view",{staticClass:"right coupon"},[i.picker_coupon&&i.picker_coupon.sub_price>0?o("v-uni-view",[e._v("-"+e._s(i.picker_coupon.sub_price)+"元")]):o("v-uni-view",[e._v("您有"+e._s(i.coupon_list.length)+"张优惠券可用")])],1)],1):e._e(),o("v-uni-view",{staticClass:"row"},[o("v-uni-view",{staticClass:"left"},[e._v("备注 :")]),o("v-uni-view",{staticClass:"right"},[o("v-uni-input",{attrs:{placeholder:"选填,备注内容"},model:{value:e.note,callback:function(i){e.note=i},expression:"note"}})],1)],1)],1),o("v-uni-view",{staticClass:"detail"},[o("v-uni-view",{staticClass:"row"},[o("v-uni-view",{staticClass:"nominal"},[e._v("运费")]),o("v-uni-view",{staticClass:"content"},[e._v("￥"+e._s(e._f("toFixed")(i.express_price)))])],1),o("v-uni-view",{staticClass:"row"},[o("v-uni-view",{staticClass:"nominal"},[e._v("小计金额")]),o("v-uni-view",{staticClass:"content"},[e._v("￥"+e._s(e._f("toFixed")(i.level_price)))])],1)],1)],1)]})),o("v-uni-view",{staticClass:"integral-box"},[o("v-uni-view",{staticClass:"left"},[e._v("积分：")]),o("v-uni-view",{staticClass:"middle"},[e._v("使用"+e._s(e.integral.forehead_integral)+"积分抵扣"),o("v-uni-text",[e._v(e._s(e._f("toFixed")(e.integral.forehead)))]),e._v("元")],1),o("v-uni-view",{staticClass:"right"},[o("v-uni-switch",{staticStyle:{transform:"scale(0.5,0.5)","margin-top":"-10upx","margin-left":"auto"},attrs:{color:"#f06c7a"},on:{change:function(i){arguments[0]=i=e.$handleEvent(i),e.integralSwitchChange.apply(void 0,arguments)}}})],1)],1),o("v-uni-view",{staticClass:"blck"}),o("v-uni-view",{staticClass:"footer"},[o("v-uni-view",{staticClass:"settlement"},[o("v-uni-view",{staticClass:"sum"},[e._v("合计:"),o("v-uni-view",{staticClass:"money"},[e._v("￥"+e._s(e.new_total_price))])],1),o("v-uni-view",{staticClass:"btn",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.toPay.apply(void 0,arguments)}}},[e._v("提交订单")])],1)],1),e.couponShow?o("v-uni-view",{staticClass:"coupon-box"},[o("v-uni-view",{staticClass:"explain"},[e._v("注：优惠券只能抵消商品金额，不能抵消运费，商品金额最多优惠到0.01元")]),o("v-uni-view",{staticClass:"noSub",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.pickCoupon(-1)}}},[e._v("不使用优惠券")]),o("v-uni-scroll-view",{staticClass:"coupon-list",attrs:{"scroll-y":"true"}},e._l(e.coupon_list,(function(i,t){return e.coupon_list?o("v-uni-view",{staticClass:"coupon-item",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.pickCoupon(t)}}},[o("v-uni-view",{staticClass:"money"},[o("v-uni-view",{staticClass:"price"},[e._v("￥"),o("v-uni-text",[e._v(e._s(i.sub_price))])],1),o("v-uni-view",{staticClass:"cut-price"},[e._v(e._s(i.min_price_desc))])],1),o("v-uni-view",{staticClass:"info"},[o("v-uni-view",{staticClass:"from"},[e._v(e._s(i.event_desc))]),o("v-uni-view",{staticClass:"time"},[e._v(e._s(i.begin_time)+" ~ "+e._s(i.end_time))])],1)],1):e._e()})),1)],1):e._e()],2)},a=[];t.d(i,"b",(function(){return n})),t.d(i,"c",(function(){return a})),t.d(i,"a",(function(){return o}))},bd89:function(e,i,t){"use strict";t("4160"),t("b680"),t("acd8"),t("159b"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o={data:function(){return{total_price:0,address:null,express_price:0,express_price_1:0,integral_radio:2,new_total_price:0,show_card:!1,payment:-1,show_payment:!1,show_more:!1,index:-1,mch_offline:!0,integral:{},buylist:[],goodsPrice:0,sumPrice:0,freight:0,note:"",int:1200,deduction:0,recinfo:null,mch_list:[],address_id:0,options:"",pay_type_list:[],couponShow:!1}},onShow:function(){var e=this,i=this;uni.getStorage({key:"selectAddress",success:function(t){i.recinfo=t.data,t.data&&(i.address_id=t.data.id,i.getOrderData(e.options)),uni.removeStorage({key:"selectAddress"})}})},onLoad:function(e){var i=this;this.options=e,this.getOrderData(e),this.$request({url:this.$api.user.address_list}).then((function(e){if(0==e.code)for(var t=0;t<e.data.list.length;t++)1==e.data.list[t].is_default&&(i.recinfo=e.data.list[t],i.address_id=e.data.list[t].id)}))},onBackPress:function(){this.clearOrder()},filters:{toFixed:function(e){return parseFloat(e).toFixed(2)}},methods:{getOrderData:function(e){var i=this,t=this;console.log(e.mch_list),this.$request({url:this.$api.order.new_submit_preview,method:"POST",data:{address_id:this.address_id,longitude:"",latitude:"",mch_list:e.mch_list}}).then((function(e){if(1==e.code&&uni.showModal({title:"提示",content:e.msg,showCancel:!1,confirmText:"返回",success:function(e){e.confirm&&uni.navigateBack({delta:1})}}),i.mch_list=e.data.mch_list,i.pay_type_list=e.data.pay_type_list,i.integral=e.data.integral,0==e.code){var o=uni.getStorageSync("INPUT_DATA"),n=e.data,a=-1,s=1,r=n.mch_list,l=[];for(var c in o&&(l=o.mch_list,a=o.payment,s=o.integral_radio),n.integral_radio=s,n.pay_type_list){if(a==n.pay_type_list[c].payment){n.payment=a;break}if(1==n.pay_type_list.length){n.payment=n.pay_type_list[c].payment;break}}for(var c in r){var d={},f={};if(r[c].show=!1,r[c].show_length=r[c].goods_list.length-1,0!=l.length)for(var b in l)r[c].mch_id==l[b].mch_id&&(r[c].content=l[b].content,r[c].form=l[b].form,d=l[b].shop,f=l[b].picker_coupon,r[c].offline_name=l[b].offline_name,r[c].offline_mobile=l[b].offline_mobile);for(var b in r[c].shop_list){if(d&&d.id==r[c].shop_list[b].id){r[c].shop=d;break}if(1==r[c].shop_list.length){r[c].shop=r[c].shop_list[b];break}if(1==r[c].shop_list[b].is_default){r[c].shop=r[c].shop_list[b];break}}if(f)for(var b in r[c].coupon_list)if(f.id==r[c].coupon_list[b].id){r[c].picker_coupon=f;break}r[c].send_type&&2==r[c].send_type?(r[c].offline=1,t.setData({mch_offline:!1})):r[c].offline=0}n.mch_list=r;var u=i.index;-1!=u&&r[u].shop_list&&r[u].shop_list.length>0&&t.setData({show_shop:!0,shop_list:r[u].shop_list}),t.getPrice()}}))},getPrice:function(){var e=this,i=this.mch_list,t=this.integral_radio,o=(this.integral,0),n=0,a={},s=0;for(var r in i){var l=i[r],c=(parseFloat(l.total_price),parseFloat(l.level_price)),d=c,f=i[r].goods_list;s=0,l.picker_coupon&&l.picker_coupon.sub_price>0&&(1==l.picker_coupon.appoint_type&&null!=l.picker_coupon.cat_id_list?f.forEach((function(i,t,o){for(var n in i.cat_id){var a=e.contains(l.picker_coupon.cat_id_list,i.cat_id[n]);-1!=a&&(s+=parseFloat(i.price))}})):2==l.picker_coupon.appoint_type&&null!=l.picker_coupon.goods_id_list&&f.forEach((function(i,t,o){var n=e.contains(l.picker_coupon.goods_id_list,i.goods_id);-1!=n&&(s+=parseFloat(i.price))})),l.picker_coupon.sub_price>s&&s>0?d-=parseFloat(s):d-=l.picker_coupon.sub_price),l.integral&&l.integral.forehead>0&&1==t&&(d-=parseFloat(l.integral.forehead)),0==l.offline&&(l.express_price&&(d+=l.express_price),l.offer_rule&&1==l.offer_rule.is_allowed&&(a=l.offer_rule),1==l.is_area&&(n=1)),o+=parseFloat(d)}o=o>=0?o:0,e.new_total_price=o.toFixed(2),e.offer_rule=a,e.is_area=n},integralSwitchChange:function(e){console.log("switch1 发生 change 事件，携带值为",e.target.value);var i=this;0!=e.target.value?i.integral_radio=1:i.integral_radio=2,i.getPrice()},clearOrder:function(){var e=this;uni.removeStorage({key:"buylist",success:function(i){e.buylist=[],console.log("remove buylist success")}})},toPay:function(){if(null!=this.recinfo&&""!=this.recinfo)if(0!=this.mch_list.length){uni.showLoading({title:"正在提交订单..."}),console.log(this.address_id);var e=JSON.stringify(this.pay_type_list),i=2,t=this.new_total_price;i=1==this.integral_radio?1:2,this.$request({url:this.$api.order.new_submit,method:"POST",data:{address_id:this.address_id,mch_list:JSON.stringify(this.mch_list),payment:this.payment,use_integral:i,formId:void 0}}).then((function(i){if(uni.hideLoading(),console.log(i),0==i.code){var o=JSON.stringify(i.data.order_id_list);uni.redirectTo({url:"../pay/payment/payment?order_id="+i.data.order_id+"&order_id_list="+o+"&pay_type_list="+e+"&new_total_price="+t})}1==i.code&&uni.showToast({title:i.msg,icon:"none"})}))}else uni.showToast({title:"订单信息有误请重新进入",icon:"none"});else uni.showToast({title:"请选择收货地址",icon:"none"})},selectAddress:function(){uni.navigateTo({url:"/pages/address/address?type=select"})},useCounpon:function(e){console.log(e);var i=this,t=(e=e,i.mch_list);t[e].coupon_list&&t[e].coupon_list.length>0&&(i.couponShow=!0,i.coupon_list=t[e].coupon_list,i.index=e)},pickCoupon:function(e){var i=this;console.log(e);e=e;var t=i.index,o=i.mch_list;"-1"==e||-1==e?(o[t].picker_coupon=!1,i.couponShow=!1):(o[t].picker_coupon=i.coupon_list[e],i.couponShow=!1),i.mch_list=o,i.index=-1,i.getPrice()},contains:function(e,i){var t=e.length;while(t--)if(e[t]==i)return t;return-1}}};i.default=o},ea5a:function(e,i,t){"use strict";var o=t("03f0"),n=t.n(o);n.a},eefa:function(e,i,t){e.exports=t.p+"static/img/addricon.207cc274.png"},f9c0:function(e,i,t){"use strict";t.r(i);var o=t("94aa"),n=t("24e4");for(var a in n)"default"!==a&&function(e){t.d(i,e,(function(){return n[e]}))}(a);t("ea5a");var s,r=t("f0c5"),l=Object(r["a"])(n["default"],o["b"],o["c"],!1,null,"6fe85fbb",null,!1,o["a"],s);i["default"]=l.exports}}]);