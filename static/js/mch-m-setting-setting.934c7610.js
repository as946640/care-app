(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mch-m-setting-setting"],{"0d29":function(t,i,e){"use strict";var a=e("ee27");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(e("21de")),s={components:{mpvueCityPicker:n.default},data:function(){return{themeColor:"#F06C7A",mch:{},edit_district:{},addressInfo:{},region:"",cat_list:[],index:0,img1:"",mch_common_cat_list:[{id:0,name:""}]}},onLoad:function(){this.getShopInfo()},methods:{chooseCity:function(){this.$refs.mpvueCityPicker.show()},onConfirm:function(t){this.region=t.provinceName+"-"+t.cityName+"-"+t.areaName,this.addressInfo.province_id=t.provinceId,this.addressInfo.city_id=t.cityId,this.addressInfo.district_id=t.districtId,this.addressInfo.province=t.provinceName,this.addressInfo.city=t.cityName,this.addressInfo.district=t.areaName},openImg:function(t){var i=this;uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){console.log(e),uni.showLoading({title:"上传中"}),uni.uploadFile({url:i.$api.default.upload_image,name:"image",filePath:e.tempFilePaths[0],success:function(e){uni.hideLoading();var a=JSON.parse(e.data);console.log(a.data.url),"bg"===t?i.mch.header_bg=a.data.url:"logo"===t&&(i.mch.logo=a.data.url)},fail:function(t){uni.showToast({title:t,icon:"none"})}})}})},getShopInfo:function(){var t=this;uni.showLoading({title:"加载中"}),this.$request({url:this.$api.mch.user.setting}).then((function(i){uni.hideLoading();var e=i.data.mch.mch_common_cat_id;t.mch=i.data.mch;for(var a=0;a<i.data.mch_common_cat_list.length;a++)i.data.mch_common_cat_list[a].id==e&&(t.index=a);t.mch_common_cat_list=i.data.mch_common_cat_list,t.edit_district=i.data.edit_district,t.region=i.data.edit_district.province.name+"-"+i.data.edit_district.city.name+"-"+i.data.edit_district.district.name,t.addressInfo.province_id=i.data.mch.province_id,t.addressInfo.city_id=i.data.mch.city_id,t.addressInfo.district_id=i.data.mch.district_id,console.log(i)}))},mchCommonCatChange:function(t){this.index=t.target.value},formSubmit:function(t){console.log(t);t.detail.value;uni.showLoading({title:"正在提交"}),this.$request({url:this.$api.mch.user.setting_submit,method:"post",data:t.detail.value}).then((function(t){uni.hideLoading(),0==t.code&&(uni.showToast({title:"保存成功"}),setTimeout((function(){uni.redirectTo({url:"/mch/m/myshop/myshop"})}),500)),1==t.code&&uni.showToast({title:t.msg,icon:"none"})}))}}};i.default=s},"10be":function(t,i,e){"use strict";var a=e("d321"),n=e.n(a);n.a},"21de":function(t,i,e){"use strict";e.r(i);var a=e("2a3f"),n=e("dbeb");for(var s in n)"default"!==s&&function(t){e.d(i,t,(function(){return n[t]}))}(s);e("10be");var o,c=e("f0c5"),r=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"624523ae",null,!1,a["a"],o);i["default"]=r.exports},"2a3f":function(t,i,e){"use strict";var a,n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"mpvue-picker"},[e("div",{class:{pickerMask:t.showPicker},attrs:{catchtouchmove:"true"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.maskClick.apply(void 0,arguments)}}}),e("div",{staticClass:"mpvue-picker-content ",class:{"mpvue-picker-view-show":t.showPicker}},[e("div",{staticClass:"mpvue-picker__hd",attrs:{catchtouchmove:"true"}},[e("div",{staticClass:"mpvue-picker__action",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.pickerCancel.apply(void 0,arguments)}}},[t._v("取消")]),e("div",{staticClass:"mpvue-picker__action",style:{color:t.themeColor},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.pickerConfirm.apply(void 0,arguments)}}},[t._v("确定")])]),e("v-uni-picker-view",{staticClass:"mpvue-picker-view",attrs:{"indicator-style":"height: 40px;",value:t.pickerValue},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.pickerChange.apply(void 0,arguments)}}},[[e("v-uni-picker-view-column",t._l(t.provinceDataList,(function(i,a){return e("div",{key:a,staticClass:"picker-item"},[t._v(t._s(i.name))])})),0),e("v-uni-picker-view-column",t._l(t.cityDataList,(function(i,a){return e("div",{key:a,staticClass:"picker-item"},[t._v(t._s(i.name))])})),0),e("v-uni-picker-view-column",t._l(t.areaDataList,(function(i,a){return e("div",{key:a,staticClass:"picker-item"},[t._v(t._s(i.name))])})),0)]],2)],1)])},s=[];e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return s})),e.d(i,"a",(function(){return a}))},"43ab":function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,'.pickerMask[data-v-624523ae]{position:fixed;z-index:1000;top:0;right:0;left:0;bottom:0;background:rgba(0,0,0,.6)}.mpvue-picker-content[data-v-624523ae]{position:fixed;bottom:0;left:0;width:100%;-webkit-transition:all .3s ease;transition:all .3s ease;-webkit-transform:translateY(100%);transform:translateY(100%);z-index:3000}.mpvue-picker-view-show[data-v-624523ae]{-webkit-transform:translateY(0);transform:translateY(0)}.mpvue-picker__hd[data-v-624523ae]{display:-webkit-box;display:-webkit-flex;display:flex;padding:9px 15px;background-color:#fff;position:relative;text-align:center;font-size:17px}.mpvue-picker__hd[data-v-624523ae]:after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-bottom:1px solid #e5e5e5;color:#e5e5e5;-webkit-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.mpvue-picker__action[data-v-624523ae]{display:block;-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#1aad19}.mpvue-picker__action[data-v-624523ae]:first-child{text-align:left;color:#888}.mpvue-picker__action[data-v-624523ae]:last-child{text-align:right}.picker-item[data-v-624523ae]{text-align:center;line-height:40px;text-overflow:ellipsis;white-space:nowrap;font-size:12px}.mpvue-picker-view[data-v-624523ae]{position:relative;bottom:0;left:0;width:100%;height:238px;background-color:#fff}',""]),t.exports=i},"49ba":function(t,i,e){"use strict";e.r(i);var a=e("6622"),n=e("6517");for(var s in n)"default"!==s&&function(t){e.d(i,t,(function(){return n[t]}))}(s);e("9e80");var o,c=e("f0c5"),r=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"02376084",null,!1,a["a"],o);i["default"]=r.exports},6517:function(t,i,e){"use strict";e.r(i);var a=e("0d29"),n=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(i,t,(function(){return a[t]}))}(s);i["default"]=n.a},6622:function(t,i,e){"use strict";var a,n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"body"},[e("v-uni-form",{on:{submit:function(i){arguments[0]=i=t.$handleEvent(i),t.formSubmit.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"info"},[e("v-uni-view",{staticClass:"title"},[t._v("基本信息")]),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",[t._v("联系人")]),e("v-uni-view",[e("v-uni-input",{attrs:{type:"text",value:t.mch.realname,placeholder:"必填",name:"realname"}})],1)],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",[t._v("联系电话")]),e("v-uni-view",[e("v-uni-input",{attrs:{type:"text",value:t.mch.tel,placeholder:"必填",name:"tel"}})],1)],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",[t._v("微信号")]),e("v-uni-view",[e("v-uni-input",{attrs:{type:"text",value:t.mch.wechat_name,name:"wechat_name"}})],1)],1)],1),e("v-uni-view",{staticClass:"info"},[e("v-uni-view",{staticClass:"title"},[t._v("店铺信息")]),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",[t._v("店铺名称")]),e("v-uni-view",[e("v-uni-input",{attrs:{type:"text",value:t.mch.name,placeholder:"必填",name:"name"}})],1)],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",[t._v("所在地区")]),e("v-uni-view",[e("v-uni-input",{attrs:{type:"text",value:t.region,disabled:"true",name:"province_id"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.chooseCity.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticStyle:{display:"none"}},[e("v-uni-input",{attrs:{type:"text",name:"province_id",value:t.addressInfo.province_id}}),e("v-uni-input",{attrs:{type:"text",name:"city_id",value:t.addressInfo.city_id}}),e("v-uni-input",{attrs:{type:"text",name:"district_id",value:t.addressInfo.district_id}})],1)],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",[t._v("详细地址")]),e("v-uni-view",[e("v-uni-input",{attrs:{type:"text",placeholder:"必填",value:t.mch.address,name:"address"}})],1)],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",[t._v("所售类目")]),e("v-uni-view",[e("v-uni-picker",{staticStyle:{"font-size":"34rpx"},attrs:{value:t.index,range:t.mch_common_cat_list,"range-key":"name"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.mchCommonCatChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.mch_common_cat_list[t.index].name))])],1)],1),e("v-uni-view",{staticStyle:{display:"none"}},[e("v-uni-input",{attrs:{type:"text",name:"mch_common_cat_id",value:t.mch_common_cat_list[t.index].id}})],1)],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",[t._v("客服电话")]),e("v-uni-view",[e("v-uni-input",{attrs:{type:"text",placeholder:"必填",value:t.mch.service_tel,name:"service_tel"}})],1)],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",[e("v-uni-view",[t._v("店铺头像")]),e("v-uni-view",[t._v("80x80")])],1),e("v-uni-view",[e("v-uni-view",{staticClass:"img1",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.openImg("logo")}}},[e("v-uni-image",{attrs:{src:t.mch.logo}}),e("v-uni-input",{staticClass:"img-input",attrs:{type:"text",value:t.mch.logo,name:"logo"}})],1)],1)],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",[e("v-uni-view",[t._v("店铺背景")]),e("v-uni-view",[t._v("484x130")])],1),e("v-uni-view",[e("v-uni-view",{staticClass:"img2",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.openImg("bg")}}},[e("v-uni-image",{attrs:{src:t.mch.header_bg}}),e("v-uni-input",{staticClass:"img-input",attrs:{type:"text",value:t.mch.header_bg,name:"header_bg"}})],1)],1)],1)],1),e("v-uni-button",{attrs:{"form-type":"submit"}},[t._v("提交")])],1),e("mpvue-city-picker",{ref:"mpvueCityPicker",attrs:{themeColor:t.themeColor},on:{onCancel:function(i){arguments[0]=i=t.$handleEvent(i),t.onCancel.apply(void 0,arguments)},onConfirm:function(i){arguments[0]=i=t.$handleEvent(i),t.onConfirm.apply(void 0,arguments)}}})],1)},s=[];e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return s})),e.d(i,"a",(function(){return a}))},"94cd":function(t,i,e){"use strict";var a=e("ee27");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,s=a(e("fc11")),o=(n={data:function(){return{pickerValue:[0,0,0],provinceDataList:[],cityDataList:[],areaDataList:[],showPicker:!1}},created:function(){this.init()},props:{themeColor:String},watch:{}},(0,s.default)(n,"created",(function(){var t=this;this.$request({url:this.$api.default.district}).then((function(i){0==i.code&&(console.log(i),t.provinceDataList=i.data,t.cityDataList=i.data[0].list,t.areaDataList=i.data[0].list[0].list)}))})),(0,s.default)(n,"methods",{init:function(){this.provinceDataList=res.data,this.cityDataList=res.data[0].list,this.areaDataList=res.data[0].list[0].list},show:function(){var t=this;setTimeout((function(){t.showPicker=!0}),0)},maskClick:function(){this.pickerCancel()},pickerCancel:function(){this.showPicker=!1},pickerConfirm:function(t){this.showPicker=!1,this._$emit("onConfirm")},showPickerView:function(){this.showPicker=!0},pickerChange:function(t){var i=t.mp.detail.value;this.pickerValue[0]!==i[0]?(console.log(i[0]),this.cityDataList=this.provinceDataList[i[0]].list,this.areaDataList=this.provinceDataList[i[0]].list[0].list,i[1]=0,i[2]=0):this.pickerValue[1]!==i[1]&&(this.areaDataList=this.provinceDataList[i[0]].list[i[1]].list,i[2]=0),this.pickerValue=i,this._$emit("onChange")},_$emit:function(t){console.log(t);var i={provinceName:this._getProvinceName(),cityName:this._getCityName(),areaName:this._getAreaName(),provinceId:this._getProvinceId(),cityId:this._getCityId(),districtId:this._getDistrictId()};this.$emit(t,i)},_getProvinceName:function(){return this.provinceDataList[this.pickerValue[0]].name},_getCityName:function(){return this.cityDataList[this.pickerValue[1]].name},_getAreaName:function(){return this.areaDataList[this.pickerValue[2]].name},_getProvinceId:function(){return this.provinceDataList[this.pickerValue[0]].id},_getCityId:function(){return this.cityDataList[this.pickerValue[1]].id},_getDistrictId:function(){return this.areaDataList[this.pickerValue[2]].id}}),n);i.default=o},"9e80":function(t,i,e){"use strict";var a=e("cb26"),n=e.n(a);n.a},a0d9:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".info[data-v-02376084]{padding-top:%?30?%}.title[data-v-02376084]{font-size:%?36?%;line-height:%?60?%;padding:0 %?30?%;color:#888}.item[data-v-02376084]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?20?% %?30?%;box-sizing:border-box;background-color:#fff;border-top:1px solid #eee}.item>uni-view[data-v-02376084]:nth-of-type(1){-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?34?%}.item>uni-view:nth-of-type(1)>uni-view[data-v-02376084]:nth-of-type(2){font-size:%?30?%}.item>uni-view[data-v-02376084]:nth-of-type(2){-webkit-box-flex:3;-webkit-flex:3;flex:3}.item>uni-view:nth-of-type(2)>uni-input[data-v-02376084]{font-size:%?34?%}.img1[data-v-02376084]{width:%?80?%;height:%?80?%;margin-left:auto}.img-input[data-v-02376084]{display:none}.img1>uni-image[data-v-02376084]{width:100%;height:100%}.img2[data-v-02376084]{width:%?420?%;height:%?120?%;margin-left:auto}.img2>uni-image[data-v-02376084]{width:100%;height:100%}uni-button[data-v-02376084]{width:85vw;font-size:%?34?%;color:#fff;margin:%?30?% auto;background-color:#f06c7a}",""]),t.exports=i},cb26:function(t,i,e){var a=e("a0d9");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("4422e7cc",a,!0,{sourceMap:!1,shadowMode:!1})},d321:function(t,i,e){var a=e("43ab");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("42df3e5e",a,!0,{sourceMap:!1,shadowMode:!1})},dbeb:function(t,i,e){"use strict";e.r(i);var a=e("94cd"),n=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(i,t,(function(){return a[t]}))}(s);i["default"]=n.a}}]);