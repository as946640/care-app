(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods-goods-list-goods-list"],{"11fd":function(t,e,i){"use strict";var o={tuiIcon:i("2d38").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"headers flex flex-y-center"},[i("v-uni-view",{staticStyle:{width:"80rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[i("tui-icon",{attrs:{name:"arrowleft",color:"#fff"}})],1),i("v-uni-view",{staticStyle:{"text-align":"center","padding-right":"90rpx",color:"#fff"}},[i("v-uni-text",{staticClass:"name"},[t._v("汽车用品")])],1)],1),i("v-uni-view",{staticClass:"header",style:{position:t.headerPosition,top:t.headerTop}},t._l(t.orderbyList,(function(e,o){return i("v-uni-view",{key:o,staticClass:"target",class:[e.selected?"on":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.select(o)}}},[t._v(t._s(e.text)),e.orderbyicon?i("v-uni-view",{staticClass:"icon",class:e.orderbyicon[e.orderby]}):t._e()],1)})),1),i("v-uni-view",{staticClass:"place"}),i("v-uni-view",{staticClass:"goods-list"},[i("v-uni-view",{staticClass:"product-list"},t._l(t.goodsList,(function(e){return i("v-uni-view",{key:e.id,staticClass:"product",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toGoods(e.id)}}},[i("v-uni-image",{staticStyle:{height:"340upx"},attrs:{mode:"aspectFill",src:e.pic_url}}),i("v-uni-view",{staticClass:"name"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"price"},[t._v("￥"+t._s(e.price))]),i("v-uni-view",{staticClass:"slogan"},[t._v("售出"+t._s(e.virtual_sales))])],1)],1)})),1),i("v-uni-view",{staticClass:"loading-text"},[t._v(t._s(t.loadingText))])],1)],1)},a=[];i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return o}))},"25b7":function(t,e,i){var o=i("5014");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var s=i("4f06").default;s("580dbc2a",o,!0,{sourceMap:!1,shadowMode:!1})},5014:function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.flex[data-v-5ba06622]{display:-webkit-box;display:-webkit-flex;display:flex}.flex-row[data-v-5ba06622]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.flex-col[data-v-5ba06622]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.flex-grow-0[data-v-5ba06622]{min-width:0;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.flex-grow-1[data-v-5ba06622]{min-width:0;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1}.flex-x-center[data-v-5ba06622]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.flex-y-center[data-v-5ba06622]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;-ms-grid-row-align:center;align-items:center}.flex-y-bottom[data-v-5ba06622]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;-ms-grid-row-align:flex-end;align-items:flex-end}.headers[data-v-5ba06622]{width:100%;height:%?100?%;line-height:%?100?%;padding-left:%?10?%;background-image:url(/static/img/home/header.png);background-size:50%}.headers uni-view[data-v-5ba06622]{width:100%;height:%?100?%;line-height:%?100?%}.headers uni-view .name[data-v-5ba06622]{margin:0 auto;line-height:%?100?%}.icon[data-v-5ba06622]{font-size:%?26?%}.header[data-v-5ba06622]{width:92%;padding:0 4%;height:%?79?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;background-color:#fff;position:fixed;z-index:10;border-bottom:solid %?1?% #eee}.header .target[data-v-5ba06622]{width:20%;height:%?78?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?32?%;margin-bottom:%?-2?%;color:#aaa}.header .target.on[data-v-5ba06622]{color:#000;border-bottom:%?4?% solid #134aff;font-weight:600;font-size:%?33?%}.place[data-v-5ba06622]{height:%?100?%}.goods-list .loading-text[data-v-5ba06622]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?60?%;color:#979797;font-size:%?24?%}.goods-list .product-list[data-v-5ba06622]{width:92%;padding:0 4% 3vw 4%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:wrap;flex-wrap:wrap}.goods-list .product-list .product[data-v-5ba06622]{width:48%;border-radius:%?20?%;background-color:#fff;margin:0 0 %?15?% 0;box-shadow:%?0?% %?5?% %?25?% rgba(0,0,0,.1)}.goods-list .product-list .product uni-image[data-v-5ba06622]{width:100%;border-radius:%?20?% %?20?% 0 0}.goods-list .product-list .product .name[data-v-5ba06622]{width:92%;padding:%?10?% 4%;height:%?70?%;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;text-align:justify;overflow:hidden;font-size:%?30?%}.goods-list .product-list .product .info[data-v-5ba06622]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;width:92%;padding:%?10?% 4% %?10?% 4%}.goods-list .product-list .product .info .price[data-v-5ba06622]{color:#e65339;font-size:%?30?%;font-weight:600}.goods-list .product-list .product .info .slogan[data-v-5ba06622]{color:#807c87;font-size:%?24?%}',""]),t.exports=e},5039:function(t,e,i){"use strict";var o=i("ee27");i("99af"),i("4e82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,a=o(i("fc11")),n=(s={data:function(){return{cat_id:0,page:1,sort:0,sort_type:-1,row_count:0,goodsList:[],loadingText:"正在加载...",isNoMore:!1,headerTop:"80rpx",headerPosition:"fixed",orderbyList:[{text:"综合",selected:!0,orderbyicon:!1,orderby:0},{text:"最新",selected:!1,orderbyicon:!1,orderby:0},{text:"价格",selected:!1,orderbyicon:["sheng","jiang"],orderby:0},{text:"销量",selected:!1,orderbyicon:!1,orderby:0}],orderby:"sheng"}},onLoad:function(t){this.cat_id=t.cid,this.loadGoodsList();this.goodsList.length;uni.setNavigationBarTitle({title:t.name})},onPageScroll:function(t){t.scrollTop>=0?this.headerPosition="fixed":this.headerPosition="absolute"},onPullDownRefresh:function(){setTimeout((function(){uni.stopPullDownRefresh()}),1e3)},onReachBottom:function(){this.loadGoodsList()}},(0,a.default)(s,"onPageScroll",(function(t){console.log(t.scrollTop),0==t.scrollTop&&(this.headerTop="80rpx"),t.scrollTop>80&&(this.headerTop="0rpx")})),(0,a.default)(s,"methods",{toGoods:function(t){console.log(t),uni.navigateTo({url:"../goods?cid="+t})},select:function(t){this.page=1,this.isNoMore=!1,this.goodsList=[],this.loadingText="正在加载...",this.sort=t,2!=this.sort&&(this.sort_type=-1);var e=this.orderbyList[t].text+"排序 ";if(this.orderbyList[t].orderbyicon){var i=0==this.orderbyList[t].orderby?0:1,o=0==this.orderbyList[t].orderby?"升序":"降序";this.orderbyList[t].selected&&(o=0==this.orderbyList[t].orderby?"降序":"升序",i=0==this.orderbyList[t].orderby?1:0,this.orderbyList[t].orderby=0==this.orderbyList[t].orderby?1:0),e+=o,this.sort_type=i}this.orderbyList[t].selected=!0;for(var s=this.orderbyList.length,a=0;a<s;a++)a!=t&&(this.orderbyList[a].selected=!1);uni.showToast({title:e,icon:"none"}),this.loadGoodsList()},loadGoodsList:function(){var t=this;if(console.log(this.isNoMore),this.isNoMore)return this.loadingText="没有更多商品",void uni.showToast({title:"到底了",icon:"none"});uni.showLoading({title:"正在加载"}),this.$request({url:this.$api.default.goods_list,data:{cat_id:this.cat_id,page:this.page,sort:this.sort,sort_type:this.sort_type}}).then((function(e){if(console.log(e),0==e.code){var i=t.goodsList;if(1==t.page&&(i=e.data.list),t.page>1&&(i=i.concat(e.data.list)),t.goodsList=i,e.data.page_count>t.page){var o=t.page+1;t.page=o}else t.isNoMore=!0;t.row_count=e.data.row_count,t.isNoMore&&(t.loadingText="没有更多商品"),uni.hideLoading()}}))},back:function(){uni.navigateBack()}}),s);e.default=n},"5a16":function(t,e,i){"use strict";i.r(e);var o=i("5039"),s=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);e["default"]=s.a},8963:function(t,e,i){"use strict";var o=i("25b7"),s=i.n(o);s.a},"9c23":function(t,e,i){"use strict";i.r(e);var o=i("11fd"),s=i("5a16");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("8963");var n,r=i("f0c5"),d=Object(r["a"])(s["default"],o["b"],o["c"],!1,null,"5ba06622",null,!1,o["a"],n);e["default"]=d.exports}}]);